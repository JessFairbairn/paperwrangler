<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Paper Wrangler</title>
        <script>var exports = {};</script>
        <script src="main.js" defer type="module"></script>
        <link href="style.css" rel="stylesheet"/>
    </head>
    <body>
        <div id="wrapper">
            <div id="network-wrapper">
                <div id="network"></div>
                <button id="toggle-button">â‹®</button>
            </div>
            <div id="controls">
                <h1>Paper Wrangler</h1>
                <p>See how your field has developed through a web of citations</p>
                <button id="import-btn">Import references...</button>
                
                <progress style="display: none;"></progress>
                <div id="error-message"></div>
                <!-- </fieldset> -->
                <!-- <hr/> -->
                <fieldset>
                    <legend for="min-references">Minimum references to display paper:</legend>
                    <input type="range" id="min-references" disabled/>
                    <img src="assets/spinner.svg" id="loading-spinner" style="display:none;"/>
                    <br><em>Low values may slow performance</em>
                </fieldset>
                <button id="warning-btn">Show Issues (<span class="warning-number">0</span>)</button>
                <div id="vis-controls"/>
            </div>
            
        </div>
        <dialog id="warnings-dialog">
            <form method="dialog" class="dialog-close-form">
                <button id="close-warnings-btn" aria-label="Close dialog" autofocus>X</button>
            </form>
            Warnings
            <ul id="warning-list"></ul>
        </dialog>

        <dialog id="import-dialog">
            <form method="dialog" class="dialog-close-form">
                <button id="close-warnings-btn" aria-label="Close dialog" autofocus>X</button>
            </form>
            <div class="dialog-chunky-wrapper">
                <div>
                    <h3>Load a file</h3>
                    <label class="upload-area">
                        <div>Select a Bibtex or RIS file</div>
                        <input type="file" accept=".bib,.ris" id="fileInput"/>
                    </label>
                </div>
                <div>
                    <h3>Load from Zotero</h3>
                    <div id="zotero-login-info">
                        Paper Wrangler is connected to Zotero account "<span class="zotero-username"></span>"
                    </div>
                    <div>
                        <button id="authorise-zotero-btn">Authorise Zotero</button>
                        <button id="load-zotero-btn" disabled>Load All Items from Zotero Library</button>
                    </div>
                </div>
            </div>
        </dialog>
    </body>
</html>